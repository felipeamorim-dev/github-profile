<app-header></app-header>

<main>
  <section>
    <form [formGroup]="formulario">
      <div class="flex justify-center items-center gap-2 my-6">
        <input type="text" class="py-4 px-12 text-sky-700 text-xl font-medium text-center italic border-2 border-sky-500 rounded focus:outline-none focus:ring-2 focus:ring-orange-700 focus:ring-offset-2 focus:border-transparent" formControlName="username" placeholder="Github Username">
        <button type="submit" [disabled]="formulario.invalid" (click)="submit()"
          class="py-4 px-6 text-xl text-sky-700 border-2 border-sky-500 hover:bg-sky-700 hover:text-white font-bold rounded
          disabled:bg-slate-50 disabled:text-slate-500 disabled:border">
          Buscar
        </button>
      </div>
    </form>
  </section>

  <section *ngIf="profile.name && showProfile" class="flex justify-center">
    <div class="flex flex-col px-2 sm:flex-row sm:pr-4 items-center justify-center gap-3 my-6  border shadow-2xl">
      <img [src]="profile.avatar_url" alt="avatar" class="h-48 w-48 sm:h-32 sm:w-32 border-4 border-sky-700">
      <table>
        <tbody>
          <tr class="flex flex-col text-sky-700">
            <td> <strong> Name: </strong> {{profile.name}} </td>
            <td> <strong> Username: </strong> {{profile.login}} </td>
            <td> <strong> Followers: </strong> {{profile.followers}} </td>
            <td> <strong> Repositories count: </strong> {{profile.public_repos}} </td>
          </tr>
        </tbody>
      </table>
      <table class="flex flex-col text-orange-700 hover:table-fixed">
        <thead>
          <th> Newest Repositories: </th>
        </thead>
        <tbody>
          <tr class="flex flex-col" *ngFor="let item of profile.repo">
            <td class="underline text"> <a target="_blank" [href]="item.html_url"> {{item.name}} </a></td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>

</main>
